<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movio Kreasi Indonesia KMS</title>
    
    <!-- Menggunakan Lucide Icons via CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Font Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- CSS VARIABLES & THEMES --- */
        :root {
            /* Default Dark Mode Variables */
            --bg-body: #0f172a;       /* Slate 950 */
            --bg-sidebar: #020617;    /* Slate 950 Darker */
            --bg-card: #1e293b;       /* Slate 800 */
            --bg-input: #0f172a;
            --bg-hover: #334155;
            
            --text-main: #f8fafc;     /* Slate 50 */
            --text-muted: #94a3b8;    /* Slate 400 */
            
            --border-color: #1e293b;
            
            --primary: #7c3aed;       /* Violet 600 */
            --primary-hover: #6d28d9;
            --primary-light: rgba(124, 58, 237, 0.1);
            
            --accent-gradient: linear-gradient(135deg, #a78bfa 0%, #f472b6 100%);
            
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --danger: #ef4444;
        }

        /* Light Mode Override */
        [data-theme="light"] {
            --bg-body: #f1f5f9;       /* Slate 100 */
            --bg-sidebar: #ffffff;    /* White */
            --bg-card: #ffffff;       /* White */
            --bg-input: #f8fafc;
            --bg-hover: #e2e8f0;
            
            --text-main: #0f172a;     /* Slate 900 */
            --text-muted: #64748b;    /* Slate 500 */
            
            --border-color: #e2e8f0;
            
            --primary: #6366f1;       /* Indigo 500 */
            --primary-hover: #4f46e5;
            --primary-light: #eef2ff;
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* --- LAYOUT UTILS --- */
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .mt-4 { margin-top: 1rem; }
        .mb-4 { margin-bottom: 1rem; }
        .hidden { display: none; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        
        /* --- SIDEBAR --- */
        .sidebar {
            width: 260px;
            background-color: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s;
            z-index: 50;
        }
        
        .brand {
            padding: 1.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .brand-icon {
            width: 32px;
            height: 32px;
            background: var(--accent-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .nav-menu { flex: 1; padding: 0 1rem; overflow-y: auto; }
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            margin-bottom: 4px;
            border-radius: 12px;
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.2s;
            font-size: 0.9rem;
            font-weight: 500;
            background: transparent;
            border: none;
            width: 100%;
            text-align: left;
        }
        .nav-item:hover { background-color: var(--bg-hover); color: var(--text-main); }
        .nav-item.active {
            background-color: var(--primary-light);
            color: var(--primary);
            font-weight: 600;
        }

        /* --- MAIN CONTENT --- */
        .main-wrapper { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; }
        
        /* HEADER */
        header {
            height: 70px;
            border-bottom: 1px solid var(--border-color);
            padding: 0 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--bg-body);
        }
        
        .search-box {
            position: relative;
            width: 300px;
        }
        .search-box input {
            width: 100%;
            background: var(--bg-input);
            border: 1px solid var(--border-color);
            padding: 10px 10px 10px 40px;
            border-radius: 99px;
            color: var(--text-main);
            outline: none;
        }
        .search-box svg {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            width: 18px;
        }

        .role-switcher button {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            padding: 6px 12px;
            font-size: 0.75rem;
            cursor: pointer;
            border-radius: 6px;
            margin-left: 4px;
        }
        .role-switcher button.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
        }
        .theme-toggle:hover { background-color: var(--bg-hover); }

        /* CONTENT AREA */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
        }
        
        /* --- COMPONENTS --- */
        
        /* Stats Dashboard */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: var(--bg-card); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--border-color); display: flex; align-items: flex-start; justify-content: space-between; }
        .stat-icon { padding: 10px; border-radius: 8px; background: var(--bg-hover); color: var(--primary); }
        .stat-value { font-size: 1.8rem; font-weight: 700; margin: 5px 0; }
        .stat-label { font-size: 0.85rem; color: var(--text-muted); }

        /* Cards */
        .grid-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; }
        .card {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
            transition: 0.3s;
            cursor: pointer;
        }
        .card:hover { transform: translateY(-4px); box-shadow: var(--shadow); }
        .card-thumb {
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            position: relative;
        }
        .card-body { padding: 1rem; }
        .card-title { font-weight: 600; margin-bottom: 0.5rem; font-size: 1rem; }
        .card-meta { display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--text-muted); margin-top: 1rem; }
        
        /* Tables & Accordion */
        .table-container {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 1rem; background-color: var(--bg-input); font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; }
        td { padding: 1rem; border-top: 1px solid var(--border-color); font-size: 0.9rem; }
        
        /* Hierarchical List (Accordion) */
        .admin-group { border: 1px solid var(--border-color); border-radius: 8px; background: var(--bg-card); overflow: hidden; margin-bottom: 10px; }
        .admin-header {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: var(--bg-card);
        }
        .admin-header:hover { background: var(--bg-hover); }
        .admin-content { display: none; padding: 0; background: var(--bg-input); border-top: 1px solid var(--border-color); }
        .admin-content.open { display: block; animation: slideDown 0.3s ease-out; }
        .member-item { padding: 12px 15px 12px 40px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; }
        .member-item:last-child { border-bottom: none; }

        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: 0.2s;
        }
        .btn-sm { padding: 6px 10px; font-size: 0.8rem; }
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-primary:hover { background-color: var(--primary-hover); }
        .btn-danger { background-color: rgba(239, 68, 68, 0.1); color: #ef4444; }
        .btn-danger:hover { background-color: rgba(239, 68, 68, 0.2); }
        .btn-success { background-color: rgba(16, 185, 129, 0.1); color: #10b981; }

        /* Form Elements (Creator) */
        .form-group { margin-bottom: 1.5rem; }
        .form-label { display: block; margin-bottom: 0.5rem; color: var(--text-muted); font-size: 0.85rem; font-weight: 600; }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            background-color: var(--bg-input);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-main);
            font-family: inherit;
            outline: none;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus { border-color: var(--primary); }
        .upload-zone {
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            padding: 3rem;
            text-align: center;
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.2s;
        }
        .upload-zone:hover { border-color: var(--primary); background-color: var(--bg-input); }

        /* Chat Layout */
        .chat-container { display: flex; height: calc(100vh - 120px); border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; background: var(--bg-card); }
        .chat-list { width: 300px; border-right: 1px solid var(--border-color); overflow-y: auto; }
        .chat-item { padding: 1rem; border-bottom: 1px solid var(--border-color); cursor: pointer; }
        .chat-item:hover { background-color: var(--bg-hover); }
        .chat-main { flex: 1; display: flex; flex-direction: column; }
        .chat-messages { flex: 1; padding: 1.5rem; overflow-y: auto; background-color: var(--bg-body); }
        .msg { padding: 10px 15px; border-radius: 12px; margin-bottom: 10px; max-width: 70%; font-size: 0.9rem; }
        .msg-in { background-color: var(--bg-card); color: var(--text-main); align-self: flex-start; }
        .msg-out { background-color: var(--primary); color: white; align-self: flex-end; margin-left: auto; }
        .chat-input { padding: 1rem; border-top: 1px solid var(--border-color); display: flex; gap: 10px; background-color: var(--bg-card); }

        /* Utils */
        .badge { padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
        .badge-admin { background: rgba(124, 58, 237, 0.1); color: var(--primary); }
        .badge-member { background: rgba(148, 163, 184, 0.1); color: var(--text-muted); }
        .badge-active { color: #10b981; }
        .badge-inactive { color: #ef4444; }

    </style>
</head>
<body data-theme="dark">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
        <div class="brand">
            
            <span>Movio Kreasi Indonesia</span>
        </div>
        
        <div class="px-4 mb-2">
            <span id="role-badge" class="badge badge-admin"></span>
        </div>

        <nav class="nav-menu" id="nav-menu">
            <!-- Menu items injected via JS -->
        </nav>

        <div class="p-4" style="border-top: 1px solid var(--border-color);">
            <div class="flex items-center gap-2">
                <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem; color: white;">JD</div>
                <div style="flex:1;">
                    <div style="font-size: 0.9rem; font-weight: 600;" id="user-name-display">John Doe</div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">Online</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="main-wrapper">
        <!-- HEADER -->
        <header>
            <div class="flex items-center gap-4">
                <div class="search-box">
                    <i data-lucide="search"></i>
                    <input type="text" placeholder="Cari aset...">
                </div>
            </div>

            <div class="flex items-center gap-4">
                <div class="role-switcher">
                    <button onclick="setRole('grup_member')" id="btn-member">Member</button>
                    <button onclick="setRole('grup_admin')" id="btn-grup">Grup Admin</button>
                    <button onclick="setRole('super_admin')" id="btn-super">Super Admin</button>
                </div>
                
                <button class="theme-toggle" onclick="toggleTheme()" title="Ganti Tema">
                    <i data-lucide="sun-moon"></i>
                </button>
                
                <button class="theme-toggle">
                    <i data-lucide="bell"></i>
                </button>
            </div>
        </header>

        <!-- CONTENT AREA -->
        <main class="content-area" id="main-content">
            <!-- Content injected via JS -->
        </main>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA STATE ---
        const state = {
            role: 'super_admin', 
            activeTab: 'admin-dashboard',
            theme: 'dark',
            // ID Simulasi untuk login saat ini
            currentUserId: 101, // Default as Super Admin ID
            currentEditingId: null // Menyimpan ID konten yang sedang diedit
        };

        // --- MOCK DATA ---
        let ASSETS = [
            { id: 1, title: 'Brand Guidelines 2024', category: 'Brand Identity', type: 'Dokumen', author: 'Admin Pusat', views: 1200, color: '#ec4899' },
            { id: 2, title: 'Video Intro Perusahaan', category: 'Motion', type: 'Video', author: 'Creative Team', views: 450, color: '#6366f1' },
            { id: 3, title: 'Latar Musik Podcast', category: 'Audio', type: 'Musik', author: 'Audio Div', views: 890, color: '#8b5cf6' },
            { id: 4, title: 'Foto Gathering Bali', category: 'Photography', type: 'Foto', author: 'HR Team', views: 2300, color: '#f59e0b' },
        ];

        // Hierarchical Users: Super Admin -> Group Admin -> Member
        const USERS = [
            // Super Admin
            { id: 101, name: 'John Super', email: 'super@lumina.com', role: 'super_admin', status: 'active' },
            
            // Group Admins (Leaders)
            { id: 201, name: 'Admin Marketing', email: 'ad_mkt@lumina.com', role: 'grup_admin', status: 'active', parentId: 101 },
            { id: 202, name: 'Admin IT/Dev', email: 'ad_it@lumina.com', role: 'grup_admin', status: 'active', parentId: 101 },
            
            // Members (Under Marketing)
            { id: 301, name: 'Andi (Design)', email: 'andi@lumina.com', role: 'grup_member', status: 'active', parentId: 201 },
            { id: 302, name: 'Budi (Copy)', email: 'budi@lumina.com', role: 'grup_member', status: 'inactive', parentId: 201 },
            
            // Members (Under IT)
            { id: 303, name: 'Citra (Frontend)', email: 'citra@lumina.com', role: 'grup_member', status: 'active', parentId: 202 },
            { id: 304, name: 'Dewi (Backend)', email: 'dewi@lumina.com', role: 'grup_member', status: 'active', parentId: 202 },
        ];

        // --- MENU CONFIG ---
        const MENUS = {
            grup_member: [
                { id: 'home', label: 'Jelajah Aset', icon: 'home' },
                { id: 'chat', label: 'Chat Ai', icon: 'message-square' },
            ],
            grup_admin: [
                { id: 'dashboard', label: 'Creator Studio', icon: 'bar-chart-2' },
                { id: 'upload', label: 'Buat & Kelola Konten', icon: 'plus-circle' },
                { id: 'account', label: 'Kelola Member', icon: 'users' },
                { id: 'chat', label: 'Chat Ai', icon: 'message-square' },
            ],
            super_admin: [
                { id: 'admin-dashboard', label: 'Dashboard Utama', icon: 'layout-dashboard' },
                { id: 'upload', label: 'Buat Konten', icon: 'plus-circle' },
                { id: 'account', label: 'Hierarki Akun', icon: 'shield' },
                { id: 'chat', label: 'Chat Ai', icon: 'message-square' },
            ]
        };

        // --- CORE FUNCTIONS ---

        function init() {
            renderSidebar();
            renderContent();
            updateHeaderUI();
            lucide.createIcons();
        }

        function setRole(role) {
            state.role = role;
            
            // Simulasi Login ID berdasarkan Role
            if(role === 'grup_admin') state.currentUserId = 201; // Simulasi jadi Admin Marketing
            else if(role === 'super_admin') state.currentUserId = 101;
            else state.currentUserId = 301;

            // Update nama di sidebar
            const currentUser = USERS.find(u => u.id === state.currentUserId);
            if(currentUser) document.getElementById('user-name-display').innerText = currentUser.name;

            // Set default tab based on role
            if(role === 'grup_member') state.activeTab = 'home';
            else if(role === 'grup_admin') state.activeTab = 'dashboard';
            else state.activeTab = 'admin-dashboard';
            
            init();
        }

        function setTab(tabId) {
            state.activeTab = tabId;
            init();
        }

        function toggleTheme() {
            state.theme = state.theme === 'dark' ? 'light' : 'dark';
            document.body.setAttribute('data-theme', state.theme);
        }

        function toggleAccordion(id) {
            const content = document.getElementById(id);
            const icon = document.getElementById('icon-' + id);
            
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.style.transform = 'rotate(0deg)';
            } else {
                // Close others if needed (optional)
                content.classList.add('open');
                icon.style.transform = 'rotate(180deg)';
            }
        }

        function updateHeaderUI() {
            document.querySelectorAll('.role-switcher button').forEach(btn => btn.classList.remove('active'));
            if(state.role === 'grup_member') document.getElementById('btn-member').classList.add('active');
            if(state.role === 'grup_admin') document.getElementById('btn-grup').classList.add('active');
            if(state.role === 'super_admin') document.getElementById('btn-super').classList.add('active');

            const badge = document.getElementById('role-badge');
            badge.innerText = state.role.replace('_', ' ').toUpperCase();
            badge.className = `badge ${state.role === 'grup_member' ? 'badge-member' : 'badge-admin'}`;
        }

        // --- CONTENT MANAGEMENT LOGIC ---

        function deleteAsset(id) {
            if(confirm('Apakah Anda yakin ingin menghapus konten ini?')) {
                ASSETS = ASSETS.filter(a => a.id !== id);
                renderCreator(document.getElementById('main-content')); // Re-render
                lucide.createIcons();
            }
        }

        function editAsset(id) {
            const asset = ASSETS.find(a => a.id === id);
            if(asset) {
                state.currentEditingId = id;
                // Scroll ke atas form
                document.querySelector('.content-area').scrollTop = 0;
                
                // Isi Form (Simulasi DOM Manipulation)
                document.getElementById('input-title').value = asset.title;
                document.getElementById('input-type').value = asset.type.toLowerCase();
                document.getElementById('input-cat').value = asset.category;
                document.getElementById('btn-submit-content').innerText = "Update Konten";
                document.getElementById('btn-submit-content').classList.remove('btn-primary');
                document.getElementById('btn-submit-content').classList.add('btn-success');
                document.getElementById('form-header').innerText = "Edit Konten";
            }
        }

        function saveContent() {
            const title = document.getElementById('input-title').value;
            const type = document.getElementById('input-type').value;
            const category = document.getElementById('input-cat').value;

            if(state.currentEditingId) {
                // Update Logic
                const index = ASSETS.findIndex(a => a.id === state.currentEditingId);
                if(index !== -1) {
                    ASSETS[index].title = title;
                    ASSETS[index].type = type.charAt(0).toUpperCase() + type.slice(1);
                    ASSETS[index].category = category;
                }
                alert('Konten berhasil diperbarui!');
            } else {
                // Create Logic
                const newAsset = {
                    id: Date.now(),
                    title: title || 'Tanpa Judul',
                    category: category,
                    type: type.charAt(0).toUpperCase() + type.slice(1),
                    author: 'Anda',
                    views: 0,
                    color: '#64748b' // Default color
                };
                ASSETS.unshift(newAsset);
                alert('Konten berhasil dibuat!');
            }
            
            // Reset Form & State
            state.currentEditingId = null;
            renderCreator(document.getElementById('main-content'));
            lucide.createIcons();
        }

        // --- RENDERING ---

        function renderSidebar() {
            const menuContainer = document.getElementById('nav-menu');
            const items = MENUS[state.role];
            
            let html = '';
            items.forEach(item => {
                const isActive = state.activeTab === item.id ? 'active' : '';
                html += `
                    <button class="nav-item ${isActive}" onclick="setTab('${item.id}')">
                        <i data-lucide="${item.icon}" width="18"></i>
                        ${item.label}
                    </button>
                `;
            });
            menuContainer.innerHTML = html;
        }

        function renderContent() {
            const container = document.getElementById('main-content');
            const tab = state.activeTab;

            if (tab === 'home' || tab === 'dashboard') {
                renderHome(container);
            } else if (tab === 'admin-dashboard') {
                renderAdminDashboard(container);
            } else if (tab === 'chat') {
                renderChat(container);
            } else if (tab === 'account') {
                renderAccount(container);
            } else if (tab === 'upload') {
                renderCreator(container);
            }
        }

        // --- SUB-PAGES ---

        function renderAdminDashboard(container) {
            // Kalkulasi Statistik
            const totalContent = ASSETS.length;
            const totalViews = ASSETS.reduce((acc, curr) => acc + curr.views, 0);
            const totalUsers = USERS.length;
            const activeAdmins = USERS.filter(u => u.role === 'grup_admin').length;

            container.innerHTML = `
                <h2 class="mb-4">Dashboard Utama Super Admin</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div>
                            <div class="stat-label">Total Konten</div>
                            <div class="stat-value">${totalContent}</div>
                            <div class="badge badge-active">+2 Hari Ini</div>
                        </div>
                        <div class="stat-icon"><i data-lucide="file-text"></i></div>
                    </div>
                    <div class="stat-card">
                        <div>
                            <div class="stat-label">Total Views</div>
                            <div class="stat-value">${totalViews.toLocaleString()}</div>
                            <div class="badge badge-active">+12% Bulan ini</div>
                        </div>
                        <div class="stat-icon"><i data-lucide="eye"></i></div>
                    </div>
                    <div class="stat-card">
                        <div>
                            <div class="stat-label">Total User</div>
                            <div class="stat-value">${totalUsers}</div>
                        </div>
                        <div class="stat-icon"><i data-lucide="users"></i></div>
                    </div>
                    <div class="stat-card">
                        <div>
                            <div class="stat-label">Grup Admin Aktif</div>
                            <div class="stat-value">${activeAdmins}</div>
                        </div>
                        <div class="stat-icon"><i data-lucide="shield-check"></i></div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Analisis Konten Terbaru</h3>
                        <div class="table-container" style="border:none;">
                            <table>
                                <thead>
                                    <tr><th>Judul</th><th>Kategori</th><th>Tipe</th><th>Views</th></tr>
                                </thead>
                                <tbody>
                                    ${ASSETS.slice(0, 5).map(a => `
                                        <tr>
                                            <td>${a.title}</td>
                                            <td><span class="badge badge-member">${a.category}</span></td>
                                            <td>${a.type}</td>
                                            <td>${a.views}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderHome(container) {
            // Tampilan User/Group Admin (View Only)
            let cardsHtml = ASSETS.map(asset => `
                <div class="card">
                    <div class="card-thumb" style="background: ${asset.color};">
                        ${asset.type}
                    </div>
                    <div class="card-body">
                        <div class="badge badge-member" style="margin-bottom: 5px;">${asset.category}</div>
                        <div class="card-title">${asset.title}</div>
                        <div class="card-meta">
                            <span>Oleh: ${asset.author}</span>
                            <span>${asset.views} views</span>
                        </div>
                    </div>
                </div>
            `).join('');

            container.innerHTML = `
                <h2 class="mb-4">Jelajah Aset & Pengetahuan</h2>
                <div class="grid-cards">
                    ${cardsHtml}
                </div>
            `;
        }

        function renderAccount(container) {
            let contentHtml = '';

            if (state.role === 'super_admin') {
                // LOGIC SUPER ADMIN: Dropdown per Grup Admin
                const grupAdmins = USERS.filter(u => u.role === 'grup_admin');
                
                contentHtml += `<h2 class="mb-4">Hierarki Akun (Super Admin View)</h2>`;
                contentHtml += `<p class="mb-4 text-muted">Klik pada nama Grup Admin untuk melihat member mereka.</p>`;

                grupAdmins.forEach(admin => {
                    // Cari member milik admin ini
                    const members = USERS.filter(u => u.parentId === admin.id);
                    const memberListHtml = members.map(m => `
                        <div class="member-item">
                            <div>
                                <div style="font-weight:600">${m.name}</div>
                                <div style="font-size:0.8rem; color:var(--text-muted)">${m.email}</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="badge ${m.status==='active'?'badge-active':'badge-inactive'}">${m.status}</span>
                                <button class="btn btn-sm btn-danger"><i data-lucide="trash-2" width="14"></i></button>
                            </div>
                        </div>
                    `).join('') || '<div style="padding:15px; text-align:center; color:var(--text-muted)">Tidak ada member</div>';

                    contentHtml += `
                        <div class="admin-group">
                            <div class="admin-header" onclick="toggleAccordion('grp-${admin.id}')">
                                <div class="flex items-center gap-3">
                                    <div style="width:32px; height:32px; background:var(--bg-hover); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                                        <i data-lucide="shield" width="16"></i>
                                    </div>
                                    <div>
                                        <div style="font-weight:600">${admin.name}</div>
                                        <div style="font-size:0.8rem; color:var(--text-muted)">${admin.email} - ${members.length} Member</div>
                                    </div>
                                </div>
                                <i id="icon-grp-${admin.id}" data-lucide="chevron-down" style="transition:0.3s"></i>
                            </div>
                            <div id="grp-${admin.id}" class="admin-content">
                                ${memberListHtml}
                            </div>
                        </div>
                    `;
                });

            } else if (state.role === 'grup_admin') {
                // LOGIC GRUP ADMIN: Hanya lihat member sendiri
                // Kita gunakan state.currentUserId (201 simulasi)
                const myMembers = USERS.filter(u => u.parentId === state.currentUserId);

                contentHtml += `
                    <div class="flex justify-between items-center mb-4">
                        <h2>Manajemen Member Tim Anda</h2>
                        <button class="btn btn-primary"><i data-lucide="plus"></i> Member Baru</button>
                    </div>
                `;

                if(myMembers.length === 0) {
                    contentHtml += `<div class="p-6 text-center text-muted border border-dashed border-color rounded-xl">Belum ada member di tim Anda.</div>`;
                } else {
                    let rows = myMembers.map(user => `
                        <tr>
                            <td>
                                <div style="font-weight:600">${user.name}</div>
                                <div style="font-size:0.75rem; color: var(--text-muted)">${user.email}</div>
                            </td>
                            <td><span class="badge badge-member">${user.role.replace('_',' ')}</span></td>
                            <td class="${user.status === 'active' ? 'badge-active' : 'badge-inactive'}">‚óè ${user.status.toUpperCase()}</td>
                            <td style="text-align:right;">
                                <button class="btn btn-primary btn-sm" onclick="alert('Reset password ${user.name}')"><i data-lucide="lock" width="14"></i></button>
                                <button class="btn ${user.status === 'active' ? 'btn-danger' : 'btn-success'} btn-sm">
                                    <i data-lucide="power" width="14"></i>
                                </button>
                            </td>
                        </tr>
                    `).join('');

                    contentHtml += `
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr><th>User</th><th>Role</th><th>Status</th><th style="text-align:right;">Aksi</th></tr>
                                </thead>
                                <tbody>${rows}</tbody>
                            </table>
                        </div>
                    `;
                }
            }

            container.innerHTML = contentHtml;
        }

        function renderChat(container) {
            container.innerHTML = `
                <div class="chat-container">
                    <div class="chat-list">
                        <div class="chat-item" style="background: var(--bg-hover);">
                            <div style="font-weight:600">Tim Internal</div>
                            <div style="font-size:0.8rem; color: var(--text-muted);">Diskusi proyek Q4...</div>
                        </div>
                    </div>
                    <div class="chat-main">
                        <div class="chat-messages">
                            <div class="msg msg-in">Halo tim, ada update file?</div>
                            <div class="msg msg-out">Sudah diupload di bagian Brand Identity.</div>
                        </div>
                        <div class="chat-input">
                            <input type="text" class="form-input" placeholder="Tulis pesan..." style="border-radius: 99px;">
                            <button class="btn btn-primary" style="border-radius: 50%; width: 42px; padding:0; display:flex; justify-content:center;"><i data-lucide="send" width="18"></i></button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCreator(container) {
            // Render Form Upload/Edit
            const isEditing = state.currentEditingId !== null;
            
            let html = `
                <h2 class="mb-4" id="form-header">${isEditing ? 'Edit Konten' : 'Buat Konten Baru'}</h2>
                <div style="max-width: 800px; background: var(--bg-card); padding: 2rem; border-radius: 12px; border: 1px solid var(--border-color); margin-bottom: 2rem;">
                    
                    <div class="form-group">
                        <label class="form-label">Judul Konten</label>
                        <input type="text" id="input-title" class="form-input" placeholder="Masukkan judul menarik...">
                    </div>

                    <div class="flex gap-4">
                        <div class="form-group w-full">
                            <label class="form-label">Tipe Konten</label>
                            <select id="input-type" class="form-select">
                                <option value="foto">Foto / Gambar</option>
                                <option value="video">Video (MP4)</option>
                                <option value="musik">Musik / Audio</option>
                                <option value="dokumen">Dokumen (PDF/Doc)</option>
                            </select>
                        </div>
                        <div class="form-group w-full">
                            <label class="form-label">Kategori</label>
                            <select id="input-cat" class="form-select">
                                <option>Brand Identity</option>
                                <option>Marketing</option>
                                <option>SOP Internal</option>
                                <option>Motion</option>
                                <option>Audio</option>
                                <option>Photography</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Keterangan / Deskripsi</label>
                        <textarea class="form-textarea" rows="3" placeholder="Jelaskan detail tentang konten ini..."></textarea>
                    </div>

                    ${!isEditing ? `
                    <div class="form-group">
                        <label class="form-label">Upload File</label>
                        <div class="upload-zone" onclick="alert('Membuka file manager...')">
                            <i data-lucide="upload-cloud" width="32" style="margin-bottom: 0.5rem; color: var(--primary);"></i>
                            <p style="font-size: 0.9rem">Klik atau Drag & Drop file</p>
                        </div>
                    </div>
                    ` : ''}

                    <div class="flex justify-end items-center mt-4 gap-2">
                        ${isEditing ? `<button class="btn btn-danger" onclick="state.currentEditingId = null; renderCreator(document.getElementById('main-content')); lucide.createIcons();">Batal</button>` : ''}
                        <button id="btn-submit-content" class="btn ${isEditing ? 'btn-success' : 'btn-primary'}" onclick="saveContent()">
                            ${isEditing ? 'Update Konten' : 'Publikasi Konten'}
                        </button>
                    </div>
                </div>
            `;

            // Render Table of Contents (Management)
            html += `
                <h3 class="mb-4">Daftar Konten Saya</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Judul</th>
                                <th>Kategori</th>
                                <th>Tipe</th>
                                <th style="text-align:right;">Aksi</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${ASSETS.map(asset => `
                                <tr>
                                    <td>
                                        <div style="font-weight:600">${asset.title}</div>
                                        <div style="font-size:0.75rem; color: var(--text-muted)">${asset.author}</div>
                                    </td>
                                    <td><span class="badge badge-member">${asset.category}</span></td>
                                    <td>${asset.type}</td>
                                    <td style="text-align:right;">
                                        <button class="btn btn-primary btn-sm" onclick="editAsset(${asset.id})" title="Edit">
                                            <i data-lucide="pencil" width="14"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm" onclick="deleteAsset(${asset.id})" title="Hapus">
                                            <i data-lucide="trash-2" width="14"></i>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;

            container.innerHTML = html;
        }

        // Initialize App
        init();

    </script>
</body>
</html>